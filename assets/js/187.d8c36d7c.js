(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{519:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"依赖管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖管理"}},[t._v("#")]),t._v(" 依赖管理")]),t._v(" "),s("h2",{attrs:{id:"依赖配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖配置"}},[t._v("#")]),t._v(" 依赖配置")]),t._v(" "),s("p",[t._v("依赖指当前项目运行所需的 jar，一个项目可以设置多个依赖格式。")]),t._v(" "),s("h2",{attrs:{id:"依赖传递"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖传递"}},[t._v("#")]),t._v(" 依赖传递")]),t._v(" "),s("h3",{attrs:{id:"依赖具有传递性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖具有传递性"}},[t._v("#")]),t._v(" 依赖具有传递性")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("直接")]),t._v("依赖：在当前项目中通过依赖配置建立的依赖关系")]),t._v(" "),s("li",[s("strong",[t._v("间接")]),t._v("依赖：被依赖的资源如果依赖其他资源，当前项目间接依赖其他资源")])]),t._v(" "),s("h3",{attrs:{id:"依赖传递冲突问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖传递冲突问题"}},[t._v("#")]),t._v(" 依赖传递冲突问题")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("路径优先")]),t._v("：当依赖中出现相同的资源时，层级"),s("strong",[t._v("越深")]),t._v("，优先级"),s("strong",[t._v("越低")]),t._v("，层级越浅，优先级越高（项目依赖树中的位置决定）")]),t._v(" "),s("li",[s("strong",[t._v("声明优先")]),t._v("：当资源在"),s("strong",[t._v("相同层级")]),t._v("被依赖时，配置顺序靠前的覆盖配置顺序在后的（前覆盖后）")]),t._v(" "),s("li",[s("strong",[t._v("特殊优先")]),t._v("：当同级配置了相同资源的不同版本，后配置的覆盖先配置的（不同版本，后覆盖前）")])]),t._v(" "),s("h3",{attrs:{id:"可选依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可选依赖"}},[t._v("#")]),t._v(" 可选依赖")]),t._v(" "),s("p",[t._v("对外隐藏当前所依赖的资源 -- 不透明")]),t._v(" "),s("p",[t._v("可选依赖（Optional Dependency）是一种依"),s("strong",[t._v("赖管理策略")]),t._v("，用于指示某些依赖项不是强制性的，或者在编译时不是必须的，但在运行时可能需要。")]),t._v(" "),s("p",[t._v("这种依赖类型通常用于以下情况：")]),t._v(" "),s("ul",[s("li",[t._v("当你的项目依赖于一个库，但只有在某些特定条件下才会使用它。")]),t._v(" "),s("li",[t._v("当你想提供向后兼容性，允许使用旧版本的库，但同时支持新版本的功能。")])]),t._v(" "),s("p",[t._v("在 Java 的 Maven 构建工具中，可以使用 "),s("code",[t._v("<optional>")]),t._v(" 标签来定义可选依赖。")]),t._v(" "),s("p",[t._v("以下是一个 Maven "),s("code",[t._v("pom.xml")]),t._v(" 文件中的示例：")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("project")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... 其他配置 ... --\x3e")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 必需的依赖项 --\x3e")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.example"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("core-lib"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.0.0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 可选的依赖项 --\x3e")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.example"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("optional-lib"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.0.0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- true 默认为 false 不隐藏, 为 true 则对外隐藏 --\x3e")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("optional")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("optional")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... 其他依赖项 ... --\x3e")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... 其他配置 ... --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("project")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br")])]),s("p",[t._v("在这个示例中，"),s("code",[t._v("optional-lib")]),t._v("  被标记为可选依赖。这意味着：")]),t._v(" "),s("ul",[s("li",[t._v("Maven 在构建过程中"),s("strong",[t._v("不会自动")]),t._v("将这个依赖项传递给其他依赖这个项目的项目。")]),t._v(" "),s("li",[t._v("这个依赖项仅在"),s("strong",[t._v("当前项目中")]),t._v("需要时才被包含。")])]),t._v(" "),s("h3",{attrs:{id:"排除依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#排除依赖"}},[t._v("#")]),t._v(" 排除依赖")]),t._v(" "),s("p",[t._v("主动断开依赖的资源，被排除的资源无需指定版本 -- 不需要 "),s("code",[t._v("exclusions")]),t._v("（标签）")]),t._v(" "),s("h3",{attrs:{id:"依赖范围"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖范围"}},[t._v("#")]),t._v(" 依赖范围")]),t._v(" "),s("p",[t._v("依赖的 jar 默认情况可以在任何地方使用, 可以通过 "),s("code",[t._v("<scope>")]),t._v(" 标签设定其作用范围.")]),t._v(" "),s("p",[t._v("作用范围：")]),t._v(" "),s("p",[t._v("主程序范围有效 (main 文件夹范围内)")]),t._v(" "),s("p",[t._v("测试程序范围有效 (test 文件夹范围内)")]),t._v(" "),s("p",[t._v("是否参与打包 (package 指令范围内)")]),t._v(" "),s("p",[t._v("compile（默认）：这是默认的依赖范围。")]),t._v(" "),s("p",[t._v("compile作用域的依赖项在所有情况下都有效，包括编译、运行和测试。")]),t._v(" "),s("p",[t._v("provided：这个依赖范围表示该依赖项由 JDK 或运行容器在运行时提供。也就是说，该依赖项在测试和编译阶段需要，但在运行时由容器提供。")]),t._v(" "),s("p",[t._v("runtime：这个依赖范围表示该依赖项在运行时需要，但在编译阶段不需要。在测试阶段，该依赖项也会被使用。")]),t._v(" "),s("p",[t._v("test：这个依赖范围表示该依赖项只在测试阶段有用，在编译和运行阶段不会被使用。")]),t._v(" "),s("p",[t._v("system：这个依赖范围表示该依赖项是由我们提供的，不需要从 Maven 仓库中获取。使用该范围时，需要与 "),s("code",[t._v("<systemPath>")]),t._v(" 标签配合使用，指定该依赖项在系统中的位置。")]),t._v(" "),s("p",[t._v("import：这个依赖范围用于在子项目中引入父项目的 "),s("code",[t._v("<dependencyManagement>")]),t._v(" 中定义的依赖项。它允许子项目继承父项目的依赖项，而不需要直接继承父项目。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);