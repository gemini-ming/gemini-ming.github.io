(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{532:function(a,t,s){"use strict";s.r(t);var r=s(4),v=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"mysql-架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-架构"}},[a._v("#")]),a._v(" MySQL 架构")]),a._v(" "),t("h2",{attrs:{id:"mysql-的逻辑架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-的逻辑架构"}},[a._v("#")]),a._v(" MySQL 的逻辑架构")]),a._v(" "),t("h3",{attrs:{id:"逻辑视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#逻辑视图"}},[a._v("#")]),a._v(" 逻辑视图")]),a._v(" "),t("ol",[t("li",[a._v("第一层 -- 客户端所包含的服务，以及连接处理等")]),a._v(" "),t("li",[a._v("第二层 -- 包含大多数 MySQL 的核心功能，包括查询包括查询解析、分析、优化、以及所有的内置函数")]),a._v(" "),t("li",[a._v("第三层 -- 存储引擎层，负责 MySQL 中数据的存储和提取，包含几十个底层函数，不会去解析 SQL，只是简单地响应服务器请求。")])]),a._v(" "),t("blockquote",[t("p",[a._v("第一、二层可以统称为 Server 层")])]),a._v(" "),t("p",[a._v("MySQL 服务器架构的逻辑视图：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image","data-src":"https://cmty256.github.io/imgs-blog/MySQL/image.3bxuyx2tza20.webp",loading:"lazy"}})]),a._v(" "),t("h3",{attrs:{id:"连接管理与安全性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接管理与安全性"}},[a._v("#")]),a._v(" 连接管理与安全性")]),a._v(" "),t("p",[a._v("主要有这么几个步骤：")]),a._v(" "),t("ul",[t("li",[a._v("客户端连接 MySQL 服务器（单线程，驻留在一个内核或者 CPU 上）")]),a._v(" "),t("li",[a._v("连接时，服务器进行身份验证（基于用户名、发起的主机名和密码）")]),a._v(" "),t("li",[a._v("连接后，服务器会继续验证该客户端是否具有其发出的每个查询的权限（例如，是否允许客户端对 world 数据库中的 Country 表执行 SELECT 语句）。")])]),a._v(" "),t("p",[a._v("其中，服务器维护了一个缓存区，用于存放已就绪的线程，因此不需要为每个新的连接创建或者销毁线程。")]),a._v(" "),t("h3",{attrs:{id:"优化与执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优化与执行"}},[a._v("#")]),a._v(" 优化与执行")]),a._v(" "),t("p",[a._v("MySQL 解析查询以创建内部数据结构（解析树），然后对其进行各种优化。")]),a._v(" "),t("p",[a._v("优化器并不关心表使用的是什么存储引擎，但存储引擎对于查询优化是有影响的。")]),a._v(" "),t("p",[a._v("因为优化器会向存储引擎询问它的一些功能、某个具体操作的成本，以及表数据的统计信息。")]),a._v(" "),t("h2",{attrs:{id:"并发控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#并发控制"}},[a._v("#")]),a._v(" 并发控制")]),a._v(" "),t("p",[a._v("本章的目的是讨论MySQL在两个级别的并发控制：服务器级别与存储引擎级别。")]),a._v(" "),t("h3",{attrs:{id:"读写锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读写锁"}},[a._v("#")]),a._v(" 读写锁")]),a._v(" "),t("h3",{attrs:{id:"锁的粒度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#锁的粒度"}},[a._v("#")]),a._v(" 锁的粒度")]),a._v(" "),t("h2",{attrs:{id:"事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务"}},[a._v("#")]),a._v(" 事务")]),a._v(" "),t("h3",{attrs:{id:"隔离级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#隔离级别"}},[a._v("#")]),a._v(" 隔离级别")]),a._v(" "),t("h3",{attrs:{id:"死锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#死锁"}},[a._v("#")]),a._v(" 死锁")]),a._v(" "),t("h3",{attrs:{id:"事务日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务日志"}},[a._v("#")]),a._v(" 事务日志")]),a._v(" "),t("h3",{attrs:{id:"mysql-中的事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-中的事务"}},[a._v("#")]),a._v(" MySQL 中的事务")]),a._v(" "),t("h2",{attrs:{id:"多版本并发控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多版本并发控制"}},[a._v("#")]),a._v(" 多版本并发控制")]),a._v(" "),t("h2",{attrs:{id:"复制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#复制"}},[a._v("#")]),a._v(" 复制")])])}),[],!1,null,null,null);t.default=v.exports}}]);