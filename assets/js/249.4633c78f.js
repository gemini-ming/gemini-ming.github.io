(window.webpackJsonp=window.webpackJsonp||[]).push([[249],{623:function(_,v,t){"use strict";t.r(v);var r=t(4),e=Object(r.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"定时任务基础入门"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#定时任务基础入门"}},[_._v("#")]),_._v(" 定时任务基础入门")]),_._v(" "),v("h2",{attrs:{id:"cron-表达式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#cron-表达式"}},[_._v("#")]),_._v(" cron 表达式")]),_._v(" "),v("h3",{attrs:{id:"格式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#格式"}},[_._v("#")]),_._v(" 格式")]),_._v(" "),v("p",[_._v("cron 表达式是一种用于配置定时任务（计划任务）的字符串，它由"),v("strong",[_._v("六个或七个")]),_._v("字段组成，表示时间表，格式如下：")]),_._v(" "),v("div",{staticClass:"language-java line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-java"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[_._v("// 秒 分 时 日 月 星期 年 ")]),_._v("\n"),v("span",{pre:!0,attrs:{class:"token operator"}},[_._v("*")]),_._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[_._v("*")]),_._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[_._v("*")]),_._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[_._v("*")]),_._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[_._v("*")]),_._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[_._v("*")]),_._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[_._v("?")]),_._v("\n")])]),_._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[_._v("1")]),v("br"),v("span",{staticClass:"line-number"},[_._v("2")]),v("br")])]),v("h3",{attrs:{id:"字段含义"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#字段含义"}},[_._v("#")]),_._v(" 字段含义")]),_._v(" "),v("p",[_._v("每个字段由一个星号（"),v("code",[_._v("*")]),_._v("）或具体值组成，字段之间用空格分隔。以下是每个字段的含义：")]),_._v(" "),v("ol",[v("li",[v("p",[v("strong",[_._v("秒（0 - 59）")]),_._v(":")]),_._v(" "),v("ul",[v("li",[_._v("任务执行的秒数，可以是单个数字，范围列表，或特殊字符。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("分（0 - 59）")]),_._v(":")]),_._v(" "),v("ul",[v("li",[_._v("任务执行的分钟数。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("小时（0 - 23）")]),_._v(":")]),_._v(" "),v("ul",[v("li",[_._v("任务执行的小时数。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("日期（1 - 31）")]),_._v(":")]),_._v(" "),v("ul",[v("li",[_._v("任务执行的月份中的日期。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("月份（1 - 12 或 JAN-DEC）")]),_._v(":")]),_._v(" "),v("ul",[v("li",[_._v("任务执行的月份。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("星期几（0 - 7 或 SUN-SAT）")]),_._v(":")]),_._v(" "),v("ul",[v("li",[_._v("任务执行的星期几，0 或 7 表示星期日。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("年份（可选字段）")]),_._v(":")]),_._v(" "),v("ul",[v("li",[_._v("如果需要指定年份，可以在表达式的末尾添加年份字段。")])])])]),_._v(" "),v("h3",{attrs:{id:"特殊字符"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#特殊字符"}},[_._v("#")]),_._v(" 特殊字符")]),_._v(" "),v("p",[v("em",[_._v("特殊字符包括：")])]),_._v(" "),v("ol",[v("li",[_._v("星号（"),v("code",[_._v("*")]),_._v("）: 表示匹配"),v("strong",[_._v("任意值")]),_._v("。例如，* 在分钟字段中表示每分钟都执行。")]),_._v(" "),v("li",[_._v("问号（"),v("code",[_._v("?")]),_._v("）: 表示"),v("strong",[_._v("不指定值")]),_._v("，通常用在"),v("code",[_._v("日期")]),_._v("和"),v("code",[_._v("星期几")]),_._v("字段，通常用于避免冲突。")]),_._v(" "),v("li",[_._v("连字符（"),v("code",[_._v("-")]),_._v("）: 表示一个"),v("strong",[_._v("范围")]),_._v("，例如 "),v("code",[_._v("10-12")]),_._v(" 表示从 10 到 12。")]),_._v(" "),v("li",[_._v("斜线（"),v("code",[_._v("/")]),_._v("）: 表示"),v("strong",[_._v("起始时间开始，每隔一定的间隔执行")]),_._v("，例如 "),v("code",[_._v("0/30")]),_._v(" 表示每 30 分钟。")]),_._v(" "),v("li",[_._v("逗号（"),v("code",[_._v(",")]),_._v("）：用于分隔多个值。例如，1,3,5 在小时字段中表示 1 点、3 点和 5 点执行。")]),_._v(" "),v("li",[v("code",[_._v("L")]),_._v(": 表示 “Last” 最后，例如在日期字段表示一个月的"),v("strong",[_._v("最后")]),_._v("一天。只能出现在 【日期】和 【星期】域。")]),_._v(" "),v("li",[v("code",[_._v("W")]),_._v(": 表示"),v("strong",[_._v("有效工作日")]),_._v("(周一到周五)，只能出现在【日期】域。")]),_._v(" "),v("li",[v("code",[_._v("LW")]),_._v(": 这两个字符可以连用，表示在某个月最后一个工作日，即最后一个星期五。")]),_._v(" "),v("li",[v("code",[_._v("#")]),_._v(": 用于确定"),v("strong",[_._v("每个月第几个星期几")]),_._v("，只能出现在【星期】域。例如在 "),v("code",[_._v("4#2")]),_._v("，表示某月的第二个星期三。")])]),_._v(" "),v("p",[v("em",[_._v("以下是一些具体的例子：")])]),_._v(" "),v("ul",[v("li",[v("code",[_._v("0 * * * * ?")]),_._v(": 每分钟执行一次。")]),_._v(" "),v("li",[v("code",[_._v("0 0/30 * * * ?")]),_._v(": 每 30 分钟执行。")]),_._v(" "),v("li",[v("code",[_._v("0 0 * * * ?")]),_._v("：整点执行。")]),_._v(" "),v("li",[v("code",[_._v("0 0-59/2 * * * ?")]),_._v(": 每小时的第 2 分钟开始，每 2 分钟执行一次。")]),_._v(" "),v("li",[v("code",[_._v("0 8,14 * * * ?")]),_._v(": 每天的上午 8 点和下午 2 点执行。")]),_._v(" "),v("li",[v("code",[_._v("0 0/5 14 * * ?")]),_._v(": 在下午 2 点到 3 点之间，每 5 分钟执行一次。")]),_._v(" "),v("li",[v("code",[_._v("0 0 9-17 * * ?")]),_._v(": 从上午 9 点到下午 5 点，每小时的整点执行。")]),_._v(" "),v("li",[v("code",[_._v("0 15 10 L \\* ?")]),_._v("：每月最后一日的上午 10:15 执行。")]),_._v(" "),v("li",[v("code",[_._v("0 15 10 ? * 6#3")]),_._v(": 每月的第三个星期五上午 10:15 执行。")])]),_._v(" "),v("h3",{attrs:{id:"小结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[_._v("#")]),_._v(" 小结")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("字段")]),_._v(" "),v("th",[_._v("允许值")]),_._v(" "),v("th",[_._v("允许的特殊字符")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("秒（"),v("em",[_._v("Seconds")]),_._v("）")]),_._v(" "),v("td",[_._v("0~59 的整数")]),_._v(" "),v("td",[_._v(", - * /   四个字符")])]),_._v(" "),v("tr",[v("td",[_._v("分（"),v("em",[_._v("Minutes")]),_._v("）")]),_._v(" "),v("td",[_._v("0~59 的整数")]),_._v(" "),v("td",[_._v(", - * /   四个字符")])]),_._v(" "),v("tr",[v("td",[_._v("小时（"),v("em",[_._v("Hours")]),_._v("）")]),_._v(" "),v("td",[_._v("0~23 的整数")]),_._v(" "),v("td",[_._v(", - * /   四个字符")])]),_._v(" "),v("tr",[v("td",[_._v("日期（"),v("em",[_._v("DayOfMonth")]),_._v("）")]),_._v(" "),v("td",[_._v("1~31 的整数（但是你需要考虑你月的天数）")]),_._v(" "),v("td",[_._v(",- * ? / L W C   八个字符")])]),_._v(" "),v("tr",[v("td",[_._v("月份（"),v("em",[_._v("Month")]),_._v("）")]),_._v(" "),v("td",[_._v("1~12 的整数或者 JAN-DEC")]),_._v(" "),v("td",[_._v(", - * /   四个字符")])]),_._v(" "),v("tr",[v("td",[_._v("星期（"),v("em",[_._v("DayOfWeek")]),_._v("）")]),_._v(" "),v("td",[_._v("1~7 的整数或者 SUN-SAT （1=SUN）")]),_._v(" "),v("td",[_._v(", - * ? / L C #   八个字符")])]),_._v(" "),v("tr",[v("td",[_._v("年(可选，留空)（"),v("em",[_._v("Year")]),_._v("）")]),_._v(" "),v("td",[_._v("1970~2099")]),_._v(" "),v("td",[_._v(", - * /   四个字符")])])])]),_._v(" "),v("h2",{attrs:{id:"何为单机定时任务和分布式定时任务"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#何为单机定时任务和分布式定时任务"}},[_._v("#")]),_._v(" 何为单机定时任务和分布式定时任务")]),_._v(" "),v("p",[_._v("单机定时任务和分布式定时任务是两种不同的任务调度方式，它们在计算机系统中用于自动执行预定的任务。下面是它们的基本定义和区别：")]),_._v(" "),v("h3",{attrs:{id:"单机定时任务"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#单机定时任务"}},[_._v("#")]),_._v(" 单机定时任务")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("定义")]),_._v("：单机定时任务是指在单个计算机或服务器上运行的定时任务。这种任务通常由操作系统的调度器或特定的任务调度软件来管理。")]),_._v(" "),v("li",[_._v("特点：\n"),v("ul",[v("li",[v("strong",[_._v("单一资源")]),_._v("：单机定时任务只能在一个节点上运行，因此它只能利用该节点的资源。如果任务量超出了这个节点的处理能力，就可能导致性能瓶颈或任务延迟。")]),_._v(" "),v("li",[v("strong",[_._v("串行处理")]),_._v("：任务通常是串行执行的，这意味着它们一个接一个地运行，而不是同时进行。")]),_._v(" "),v("li",[v("strong",[_._v("简单性")]),_._v("：管理和配置相对简单，因为所有任务都在同一个系统上运行。")]),_._v(" "),v("li",[v("strong",[_._v("局限性")]),_._v("：如果任务量很大或需要高可用性，单机可能无法满足需求。")]),_._v(" "),v("li",[v("strong",[_._v("容错性较低")]),_._v("：如果单机发生故障，所有任务都可能受到影响，因为没有其他节点可以接管任务。")])])])]),_._v(" "),v("h3",{attrs:{id:"分布式定时任务"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#分布式定时任务"}},[_._v("#")]),_._v(" 分布式定时任务")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("定义")]),_._v("：分布式定时任务是指在多个计算机或服务器上协调运行的定时任务。这种任务通常由分布式任务调度系统来管理，如 Apache Hadoop 的 Oozie、Apache Storm、Quartz 等。")]),_._v(" "),v("li",[_._v("特点：\n"),v("ul",[v("li",[v("strong",[_._v("扩展性")]),_._v("：可以跨多个节点分布任务，提高系统的处理能力和容错性。")]),_._v(" "),v("li",[v("strong",[_._v("高可用性")]),_._v("：通过在不同的节点上运行任务，可以减少单点故障的风险。")]),_._v(" "),v("li",[v("strong",[_._v("复杂性")]),_._v("：管理和配置比单机定时任务更复杂，需要考虑任务的分配、节点间的通信和数据同步等问题。")]),_._v(" "),v("li",[v("strong",[_._v("负载均衡")]),_._v("：可以根据节点的负载情况动态分配任务，优化资源使用。")]),_._v(" "),v("li",[v("strong",[_._v("容错性")]),_._v("：如果某个节点发生故障，任务可以被重新分配到其他节点上执行，从而提高系统的稳定性和可靠性。")])])])]),_._v(" "),v("h3",{attrs:{id:"区别"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[_._v("#")]),_._v(" 区别")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("多节点资源")]),_._v("：分布式定时任务可以在多个节点（服务器或计算机）上运行，这意味着它可以利用这些节点上的所有资源，包括CPU、内存、存储和网络带宽等。")]),_._v(" "),v("li",[v("strong",[_._v("并行处理")]),_._v("：任务可以在不同的节点上并行执行，从而提高处理速度和效率。")]),_._v(" "),v("li",[v("strong",[_._v("容错能力")]),_._v("：分布式系统通常具有更好的容错能力，因为任务可以在其他节点上重新调度。")]),_._v(" "),v("li",[v("strong",[_._v("可扩展性")]),_._v("：分布式系统更容易扩展，可以通过增加节点来处理更多的任务。")]),_._v(" "),v("li",[v("strong",[_._v("管理难度")]),_._v("：分布式定时任务的管理和配置通常比单机定时任务更复杂。")])]),_._v(" "),v("h2",{attrs:{id:"多线程执行定时任务"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#多线程执行定时任务"}},[_._v("#")]),_._v(" 多线程执行定时任务")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://blog.csdn.net/pan_junbiao/article/details/109399280",target:"_blank",rel:"noopener noreferrer"}},[_._v("SpringBoot使用@Scheduled注解实现定时任务_springboot scheduled注解-CSDN博客"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://www.cnblogs.com/lightdb/p/9727495.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("spring boot @Scheduled未生效原因以及相关坑、及相对其他定时任务架构的优势 - zhjh256 - 博客园 (cnblogs.com)"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://www.cnblogs.com/goloving/p/15065200.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("浅析SpringBoot中使用@scheduled定时执行任务需要注意的单线程的坑 - 古兰精 - 博客园 (cnblogs.com)"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://blog.csdn.net/zmemorys/article/details/105201647",target:"_blank",rel:"noopener noreferrer"}},[_._v("@Scheduled 的一些坑_scheduledcron失效-CSDN博客"),v("OutboundLink")],1)])]),_._v(" "),v("h2",{attrs:{id:"在线表达式生成器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#在线表达式生成器"}},[_._v("#")]),_._v(" 在线表达式生成器")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://cron.ciding.cc/",target:"_blank",rel:"noopener noreferrer"}},[_._v("Cron - 在线Cron表达式生成器 (ciding.cc)"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://www.matools.com/cron/",target:"_blank",rel:"noopener noreferrer"}},[_._v("在线Cron表达式生成器 - 码工具 (matools.com)"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://cron.qqe2.com/",target:"_blank",rel:"noopener noreferrer"}},[_._v("在线Cron表达式生成器 (qqe2.com)"),v("OutboundLink")],1)]),_._v(" "),v("li",[v("a",{attrs:{href:"https://www.bejson.com/othertools/cron/",target:"_blank",rel:"noopener noreferrer"}},[_._v("quartz/Cron/Crontab表达式在线生成工具-BeJSON.com"),v("OutboundLink")],1)])]),_._v(" "),v("h2",{attrs:{id:"学习参考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#学习参考"}},[_._v("#")]),_._v(" 学习参考")]),_._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://www.bejson.com/othertools/cronvalidate/",target:"_blank",rel:"noopener noreferrer"}},[_._v("cron表达式详解"),v("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=e.exports}}]);