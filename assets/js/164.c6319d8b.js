(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{495:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"nacos-学习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nacos-学习"}},[s._v("#")]),s._v(" Nacos 学习")]),s._v(" "),a("h2",{attrs:{id:"nacos-配置中心"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nacos-配置中心"}},[s._v("#")]),s._v(" Nacos 配置中心")]),s._v(" "),a("h3",{attrs:{id:"操作示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作示例"}},[s._v("#")]),s._v(" 操作示例")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("阿里巴巴官方文档："),a("a",{attrs:{href:"https://spring-cloud-alibaba-group.github.io/zh-cn/docs/2022.0.0.0/user-guide/nacos/quick-start",target:"_blank",rel:"noopener noreferrer"}},[s._v("快速开始 | Spring Cloud Alibaba (spring-cloud-alibaba-group.github.io)"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("Nacos 文档："),a("a",{attrs:{href:"https://nacos.io/zh-cn/docs/v2/ecology/use-nacos-with-spring-cloud.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://nacos.io/zh-cn/docs/v2/ecology/use-nacos-with-spring-cloud.html"),a("OutboundLink")],1)])])]),s._v(" "),a("p",[s._v("1、application.yml")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7888")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("profiles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("active")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dev "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表示开发环境")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("stream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kafka")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("binder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("brokers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 172.16.34.125"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9092")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Kafka的消息中间件服务器")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("auto-create-topics")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果设置为false,就不会自动创建Topic 有可能你Topic还没创建就直接调用了。")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bindings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义output - 生产")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("face_output")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Q_FACE_INPUT_TWO_DX "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#消息发往的目的地")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("human_output")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Q_HUMAN_INPUT_TWO_DX\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 消费")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("input")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Q_FACE_INPUT_TWO_DX\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("2、bootstrap.yml")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" wyy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("config\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cloud")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nacos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8848")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("file-extension")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yaml\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" DEV_GROUP\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ${spring.application.name}-${spring.profile.active}.${spring.cloud.nacos.config.file-extension}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wyy-config-dev.yaml")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("3、控制台 cmd 访问 curl 地址")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-X")]),s._v(" POST "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=wyy-config-dev.yaml&group=DEV_GROUP&content=useLocalCache=true"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行测试")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://localhost:7888/config/get\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"bootstrap-yml-和-application-yml-有什么区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap-yml-和-application-yml-有什么区别"}},[s._v("#")]),s._v(" bootstrap.yml 和 application.yml 有什么区别？")]),s._v(" "),a("p",[a("code",[s._v("bootstrap.yml")]),s._v(" 和 "),a("code",[s._v("application.yml")]),s._v(" 都是 Spring Boot 项目中常用的配置文件。它们之间的主要区别如下：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("用途不同：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("bootstrap.yml")]),s._v(" 文件主要用于配置 Spring Boot 应用程序的启动参数，例如数据库连接、服务器端口等。这些参数在应用程序启动时需要设置，因此将它们放在 "),a("code",[s._v("bootstrap.yml")]),s._v(" 文件中。")]),s._v(" "),a("li",[a("code",[s._v("application.yml")]),s._v(" 文件用于配置 Spring Boot 应用程序的全局参数，例如日志级别、缓存策略等。这些参数在应用程序运行时可以更改，但一旦更改，所有使用这些参数的地方都会受到影响，因此将它们放在 "),a("code",[s._v("application.yml")]),s._v(" 文件中。")])])]),s._v(" "),a("li",[a("p",[s._v("内容不同：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("bootstrap.yml")]),s._v(" 文件通常包含一些硬编码的配置值，例如数据库连接 URL、服务器端口等。这些值在应用程序启动时需要设置，因此将它们放在 "),a("code",[s._v("bootstrap.yml")]),s._v(" 文件中。")]),s._v(" "),a("li",[a("code",[s._v("application.yml")]),s._v(" 文件通常包含一些可配置的值，例如日志级别、缓存策略等。这些值在应用程序运行时可以更改，但一旦更改，所有使用这些值的地方都会受到影响，因此将它们放在 "),a("code",[s._v("application.yml")]),s._v(" 文件中。")])])]),s._v(" "),a("li",[a("p",[s._v("顺序不同：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("bootstrap.yml")]),s._v(" 文件在 "),a("code",[s._v("application.yml")]),s._v(" 文件之后加载，因此在 "),a("code",[s._v("bootstrap.yml")]),s._v(" 文件中定义的配置值"),a("strong",[s._v("会覆盖")]),s._v(" "),a("code",[s._v("application.yml")]),s._v(" 文件中相同的配置值。")])])])]),s._v(" "),a("p",[s._v("总之，"),a("code",[s._v("bootstrap.yml")]),s._v(" 文件主要用于配置应用程序的启动参数，而 "),a("code",[s._v("application.yml")]),s._v(" 文件用于配置应用程序的全局参数。在实际项目中，可以根据需要选择使用哪个文件或者同时使用两个文件。")]),s._v(" "),a("h3",{attrs:{id:"可参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可参考文章"}},[s._v("#")]),s._v(" 可参考文章")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("操作示例：[一文快速上手 Nacos 注册中心+配置中心！-阿里云开发者社区 (aliyun.com)](https://developer.aliyun.com/article/1004855#:~:text=一文快速上手 Nacos 注册中心%2B配置中心！ 1 1.Nacos 简介 Nacos 致力于帮助开发者发现、配置和管理微服务。,配置中心的作用是将本地配置文件云端话，所谓的云端也就是 Nacos 的服务器端，这样既能保证配置文件中的敏感数据不会暴露，同时又提供了实时的修改、查看、回滚和动态刷新配置文件的功能，非常实用。 ... 4 4.项目源码 https%3A%2F%2Fgitee.com%2Fmydb%2Fspring-cloud-alibaba-example )")])]),s._v(" "),a("li",[a("p",[s._v("附带引用配置说明："),a("a",{attrs:{href:"https://blog.csdn.net/hu18315778112/article/details/124099865",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nacos基本使用：注册中心、配置中心_nacos注册中心配置_DingDangDog的博客-CSDN博客"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://blog.csdn.net/xiaoxiaodong222/article/details/120086062",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nacos配置中心（读取配置文件，命名空间切换，多配置文件加载）_读取nacos 命名空间_聪明伊诺克的博客-CSDN博客"),a("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=e.exports}}]);