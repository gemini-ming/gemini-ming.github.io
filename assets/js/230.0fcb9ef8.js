(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{604:function(s,a,t){"use strict";t.r(a);var e=t(4),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),a("h2",{attrs:{id:"idea-使用更新项目操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idea-使用更新项目操作"}},[s._v("#")]),s._v(" IDEA 使用更新项目操作")]),s._v(" "),a("p",[s._v("在使用 IntelliJ IDEA 进行 Git 操作时，更新项目时会出现如下两个选项：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("Update Project")]),s._v(" 使用的是普通合并（merge）的方式，"),a("strong",[s._v("它会将远程分支上的最新代码拉取到本地，然后将本地分支上的代码与远程分支上的代码合并")]),s._v("。如果有冲突，需要手动解决冲突并提交代码。这种方式会生成一个新的合并提交，保留了本地分支和远程分支的所有提交历史。")]),s._v(" "),a("li",[a("code",[s._v("Update Project with Rebase")]),s._v(" 使用的是变基（rebase）的方式，"),a("strong",[s._v("它会将本地分支上的所有提交临时保存，然后将远程分支上的最新代码拉取到本地，并用变基的方式将本地分支上的所有提交重新基于远程分支的最新提交")]),s._v("。如果有冲突，需要手动解决冲突并提交代码。这种方式会生成一系列新的提交，覆盖了本地分支的所有提交历史。")])]),s._v(" "),a("p",[s._v("需要注意的是，使用变基操作会改变提交历史，可能会影响其他人的开发分支。因此，在多人协作开发中，"),a("strong",[s._v("建议使用普通合并（merge）操作")]),s._v("，只在特定情况下使用变基操作，例如在开发分支上进行调整和整理提交历史。")]),s._v(" "),a("p",[s._v("在选择更新方式时，可以根据实际情况选择合适的选项。如果当前分支与远程分支的差异较小，可以使用普通合并；如果差异较大，或者需要整理提交历史，可以使用变基操作。无论选择哪种方式，都需要谨慎处理未提交的修改，以免造成代码冲突和数据丢失。")]),s._v(" "),a("h2",{attrs:{id:"代码提交到本地仓库或者推送到远程仓库的话-还能回滚吗-能回滚的话-回滚命令是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码提交到本地仓库或者推送到远程仓库的话-还能回滚吗-能回滚的话-回滚命令是什么"}},[s._v("#")]),s._v(" 代码提交到本地仓库或者推送到远程仓库的话，还能回滚吗？能回滚的话，回滚命令是什么？")]),s._v(" "),a("p",[s._v("如果你已经将代码提交到本地仓库或远程仓库，你仍然可以回滚代码更改。回滚操作可以还原到之前的提交状态，撤销先前的更改。")]),s._v(" "),a("p",[s._v("下面是一些常用的回滚命令：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("回滚到上一次提交：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" revert HEAD\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("回滚到指定提交（使用提交哈希值）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" revert "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit-hash"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("回滚到指定提交并将后续提交合并为一个新的提交：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" revert "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit-hash"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("HEAD\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[s._v("这些命令会创建一个新的提交，该提交会撤销指定的更改。"),a("strong",[s._v("请注意，这些命令会创建一个新的提交，而不是直接删除或修改历史提交记录。")])]),s._v(" "),a("p",[s._v("如果你要回滚到之前的提交，并且希望删除回滚之后的提交记录，可以使用 "),a("code",[s._v("git reset")]),s._v(" 命令。但是，请注意，"),a("code",[s._v("git reset")]),s._v(" 命令会修改历史提交记录，因此在使用之前请确保你了解其影响。")]),s._v(" "),a("p",[s._v("如果你已经将代码推送到远程仓库，回滚后可能需要使用 "),a("code",[s._v("git push")]),s._v(" 命令将回滚提交推送到远程仓库。")]),s._v(" "),a("p",[s._v("请注意，"),a("strong",[s._v("回滚操作是不可逆的，因此在执行回滚前，请确保你已经备份了重要的更改或提交")]),s._v("。对于使用 Git 的版本控制系统，强烈建议在进行敏感操作之前，先熟悉 Git 的基本操作和相关命令，并在安全的环境中进行测试。")]),s._v(" "),a("h2",{attrs:{id:"代码已经提交并推送到了远程仓库-此时撤销提交会发生什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码已经提交并推送到了远程仓库-此时撤销提交会发生什么"}},[s._v("#")]),s._v(" 代码已经提交并推送到了远程仓库，此时撤销提交会发生什么？")]),s._v(" "),a("p",[s._v("如果你已经将代码提交并推送到远程仓库，但后来想要撤销该提交。以下是一些可能的情况：")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("提交还没有被其他人拉取（fetch/pull）：")]),s._v(" "),a("ul",[a("li",[s._v("如果你提交的代码还没有被其他人拉取到远程仓库，你可以使用 "),a("code",[s._v("git reset")]),s._v(" 或 "),a("code",[s._v("git revert")]),s._v(" 来撤销提交。这不会影响其他人的工作。")]),s._v(" "),a("li",[s._v("使用 "),a("code",[s._v("git reset")]),s._v(" 会将HEAD指针移动到以前的提交，将历史记录修改为不包含该提交。但是，这会删除提交的历史记录，可能会导致冲突。")]),s._v(" "),a("li",[s._v("使用 "),a("code",[s._v("git revert")]),s._v(" 会创建一个新的提交，该提交撤销了以前的提交，保留了历史记录。这是更安全的方法，因为不会破坏历史记录。")])])]),s._v(" "),a("li",[a("strong",[s._v("提交已经被其他人拉取：")]),s._v(" "),a("ul",[a("li",[s._v("如果你的提交已经被其他人拉取到远程仓库，撤销提交可能会引发问题，因为其他人可能已经构建了基于你的提交的工作。在这种情况下，最好不要直接撤销提交，而是与团队协商，找出一个解决方案。")])])]),s._v(" "),a("li",[a("strong",[s._v("其他团队成员修改代码后并推送到远程仓库：")]),s._v(" "),a("ul",[a("li",[s._v("在这种情况下，如果你强行撤销自己的提交并强制推送到远程仓库，会导致其他人的工作受到影响，可能会引发冲突和一致性问题。")]),s._v(" "),a("li",[s._v("如果一定要撤销已推送的提交，最好与团队一起协商解决，以避免引发问题。")])])])]),s._v(" "),a("p",[a("em",[s._v("已经推送到远程仓库，但还没被人拉取的情况")])]),s._v(" "),a("p",[s._v("如果你的提交已经被推送到远程仓库，但尚未被其他人拉取，你可以使用以下步骤来撤销该提交：")]),s._v(" "),a("p",[a("strong",[s._v("注意：")]),s._v(" 这个过程将修改你的本地历史记录，因此如果你正在与其他人协作，最好与他们协商并确保其他人知道你要执行这个操作。")]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("查看提交历史：")]),s._v(" 使用以下命令查看提交历史，找到你想要撤销的提交的哈希值（SHA-1）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("撤销提交：")]),s._v(" 使用以下命令来撤销提交，将 "),a("code",[s._v("<commit-hash>")]),s._v(" 替换为你想要撤销的提交的哈希值：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--hard")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("commit-hash"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这将将你的 HEAD 指针和工作目录还原到指定提交的状态，同时删除了该提交之后的所有提交。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("强制推送到远程仓库：")]),s._v(" 由于你已经修改了历史记录，你需要使用 "),a("code",[s._v("--force")]),s._v("（或"),a("code",[s._v("-f")]),s._v("）选项来强制推送到远程仓库：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--force")]),s._v(" origin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("branch-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中，"),a("code",[s._v("<branch-name>")]),s._v(" 是你当前工作的分支名称。")])])]),s._v(" "),a("p",[s._v("请注意，强制推送可能"),a("strong",[s._v("会破坏其他人的工作副本")]),s._v("，因此在执行此操作之前，请确保你已与团队协商，以确保不会引发问题。")]),s._v(" "),a("p",[s._v("此外，由于这个操作可能"),a("strong",[s._v("会删除历史记录")]),s._v("，只有在你确定没有其他人在使用这个历史记录或有备份的情况下才应该执行。")]),s._v(" "),a("h2",{attrs:{id:"学习参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习参考"}},[s._v("#")]),s._v(" 学习参考")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://juejin.cn/post/7023380175442165768",target:"_blank",rel:"noopener noreferrer"}},[s._v("开发不害怕——两种常见的撤销提交的方式（Git） - 掘金 (juejin.cn)"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);